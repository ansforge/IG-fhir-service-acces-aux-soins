<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>SOS Médecins - Recherche des créneaux - Service d'Accès aux Soins v1.1.0</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/style-ans.css"/>
    <link rel="stylesheet" href="assets/css/style-add-ans.css"/>
    <!-- Placeholder for child template CSS declarations -->

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>
    <script type="text/javascript" src="assets/js/mermaid.js"></script>
    <script type="text/javascript" src="assets/js/mermaid-init.js"></script>
    <style type="text/css">h2{--heading-prefix:"9"}
    h3,h4,h5,h6{--heading-prefix:"9"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->
<div id="family-nav">
    <a id="hl7-search-lnk" no-external="true" href="http://hl7.org/fhir"><img height="50" alt="Visit the FHIR website" src="assets/images/fhir-logo-www.png"/> </a>
  </div>
  <div id="ans-nav" style="line-height: 50px; float: left; margin-top: 4px; margin-bottom: 8px; color: #808080; ">
    <a id="hl7-logo" no-external="true" href="https://esante.gouv.fr/"><img height="50" alt="ANS Logo" src="assets/images/logo-ANS.svg"/></a>
    <a id="hl7-search-lnk" no-external="true" href="searchform.html"><img alt="Search FHIR" src="assets/images/search.png"/></a>
  </div>

  <div id="ig-search">
 </div>


        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Service d&#39;Accès aux Soins</span>
            <br/>
            <span style="display:inline-block;">1.1.0 - ci-build



  <img alt="France flag" src="assets/images/fra.svg" height="16" title="France"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">Accueil</a>
  </li>
  <li>
    <a href="specifications_fonctionnelles.html">Spécif. fonctionnelles</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Spécif. techniques
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        ________ PS indiv. ________
      </li>
      <li>
        <a href="specifications_techniques-ps-recherche_creneaux.html">PS indiv. - Recherche des créneaux</a>
      </li>
      <li>
        <a href="specifications_techniques-ps-gestion_regulateur.html">PS indiv. - Gestion des comptes régulateurs</a>
      </li>
      <li>
        <a href="specifications_techniques-ps-gestion_rdv.html">PS indiv. - Gestion de rendez-vous</a>
      </li>
      <li>
        _________ CPTS _________
      </li>
      <li>
        <a href="specifications_techniques-cpts-recherche_creneaux.html">CPTS - Recherche des créneaux</a>
      </li>
      <li>
        <a href="specifications_techniques-cpts-gestion_regulateur.html">CPTS - Gestion des comptes régulateurs</a>
      </li>
      <li>
        <a href="specifications_techniques-cpts-gestion_rdv.html">CPTS - Gestion de rendez-vous</a>
      </li>
      <li>
        ________ SOS Médecins ________
      </li>
      <li>
        <a href="specifications_techniques-sos-recherche_creneaux.html">SOS Médecins - Recherche des créneaux</a>
      </li>
      <li>
        <a href="specifications_techniques-sos-gestion_regulateur.html">SOS Médecins - Gestion des comptes régulateurs</a>
      </li>
      <li>
        <a href="specifications_techniques-sos-gestion_rdv.html">SOS Médecins - Gestion de rendez-vous</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="ressources_casusage.html">Ressources par cas d&apos;usage</a>
  </li>
  <li>
    <a href="artifacts.html">Ressources de conformité</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Autres ressources
      <b class="caret"></b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="securite.html">Sécurité</a>
      </li>
      <li>
        <a href="faq.html">FAQ</a>
      </li>
      <li>
        <a href="annexes.html">Annexes</a>
      </li>
      <li>
        <a href="downloads.html">Téléchargements et usage</a>
      </li>
      <li>
        <a target="_blank" href="http://hl7.org/fhir/R4/index.html">Spécifications FHIR</a>
      </li>
      <li>
        <a target="_blank" href="https://esante.gouv.fr/">Site de l&apos;ANS</a>
      </li>
    </ul>
  </li>
  <li>
    <a target="_blank" href="https://interop.esante.gouv.fr/ig/documentation/">Documentation</a>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>SOS Médecins - Recherche des créneaux</b></li>

          <span style="float:right;">

            <a href="specifications_techniques-cpts-gestion_rdv.html">&lt;prev</a> | 

            <a href="#bottom">bottom</a>

          | <a href="specifications_techniques-sos-gestion_regulateur.html">next&gt;</a>

          </span>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">Service d'Accès aux Soins - Local Development build (v1.1.0) built by the FHIR (HL7® FHIR® Standard) Build Tools. See the <a href='https://interop.esante.gouv.fr/ig/fhir/sas/history.html'>Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>SOS Médecins - Recherche des créneaux</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#caractéristiques-de-lapi" id="markdown-toc-caractéristiques-de-lapi">Caractéristiques de l'API</a></li>
  <li><a href="#construction-de-la-requête-de-base" id="markdown-toc-construction-de-la-requête-de-base">Construction de la requête de base</a></li>
  <li><a href="#construction-de-la-réponse-de-base" id="markdown-toc-construction-de-la-réponse-de-base">Construction de la réponse de base</a></li>
  <li><a href="#critères-de-recherche" id="markdown-toc-critères-de-recherche">Critères de recherche</a></li>
  <li><a href="#exemple-de-requête" id="markdown-toc-exemple-de-requête">Exemple de requête</a></li>
  <li><a href="#nomenclatures" id="markdown-toc-nomenclatures">Nomenclatures</a></li>
  <li><a href="#validateur-ressources" id="markdown-toc-validateur-ressources">Validateur ressources</a></li>
</ul>

</div>
<!-- Recherche des créneaux -->
<h3 id="caractéristiques-de-lapi">Caractéristiques de l'API</h3>
<p>Cette requête s'appuie sur le flux 3A du volet d'agenda partagé du <a href="https://esante.gouv.fr/sites/default/files/media_entity/documents/CISIS-TEC_SPECIFICATIONS_TECHNIQUES-GESTION_AGENDAS_PARTAGES_V1.0.pdf">CI-SIS volet Gestion Agenda Partagés</a>.</p>

<table>
<tbody>
<tr>
  <td width="25%"><p><strong>Endpoint</strong></p></td>
  <td><p>&nbsp;</p></td>
</tr>
<tr>
  <td width="25%"><p><strong>Header</strong></p></td>
  <td><p>Accept: application/json+fhir</p></td>
</tr>
<tr>
  <td width="25%"><p><strong>Encodage</strong></p></td>
  <td><p>UTF-8</p></td>
</tr>
<tr>
  <td width="25%"><p><strong>Version FHIR</strong></p></td>
  <td><p>4.0.1</p></td>
</tr>
<tr>
  <td width="25%"><p><strong>Version package</strong></p></td>
  <td><p>&nbsp;</p></td>
</tr>
<tr>
  <td width="25%"><p><strong>Publication</strong></p></td>
  <td><p>&nbsp;</p></td>
</tr>
</tbody>
</table>

<h3 id="construction-de-la-requête-de-base">Construction de la requête de base</h3>

<table>
<tbody>
<tr>
  <td width="25%"><p><strong>Interaction FHIR</strong></p></td>
  <td><p>Search<a href="#_ftn1" name="_ftnref1">[1]</a></p></td>
</tr>
<tr>
  <td width="25%"><p><strong>Méthode http associée</strong></p></td>
  <td><p>GET</p></td>
</tr>
<tr>
  <td width="25%"><p><strong>Ressource recherchée</strong></p></td>
  <td><p>Schedule</p></td>
</tr>
<tr>
  <td width="25%"><p><strong>Construction requête de base</strong></p></td>
  <td><p><code>GET[base]/Schedule{?[parameters]{&amp;_format=[mime-type]}}</code></p></td>
</tr>
</tbody>
</table>
<p><a href="#_ftnref1" name="_ftn1">[1]</a> <a href="https://www.hl7.org/fhir/http.html#search">https://www.hl7.org/fhir/http.html#search</a> et <a href="https://www.hl7.org/fhir/http.html#general">https://www.hl7.org/fhir/http.html#general</a></p>

<h3 id="construction-de-la-réponse-de-base">Construction de la réponse de base</h3>
<p>Cette réponse s'appuie sur le flux 4A du volet d'agenda partagé du CI-SIS.</p>

<h4 id="réponse-de-base--succès">Réponse de base – Succès</h4>

<p>Lien vers la spécification FHIR : <a href="https://www.hl7.org/fhir/bundle.html">https://www.hl7.org/fhir/bundle.html</a></p>

<p>Si la recherche est un succès, le serveur répond :</p>

<ul>
  <li>
    <p>Un header avec un code 200 OK HTTP</p>
  </li>
  <li>
    <p>Un body contenant une ressource <a href="https://www.hl7.org/fhir/bundle.html">Bundle</a> dont le type =
searchset.
Le bundle encapsule 0 à n ressources Slot corespondant aux
critères de recherche plus les ressources incluses correspondant aux
critères de recherche.
Le service indique le total trouvé dans une balise <code class="language-plaintext highlighter-rouge">total</code>.
Dans le cas où il n'y a     pas de résultat le service renvoie <code class="language-plaintext highlighter-rouge">total</code>: 0.</p>
  </li>
</ul>

<p>Remarque : la recherche est un succès à partir du moment où la requête
peut être exécutée. Il peut il y avoir 0 à n correspondances.</p>

<p>Plus de précision sur la spécification FHIR :
<a href="https://www.hl7.org/fhir/http.html">https://www.hl7.org/fhir/http.html</a></p>

<h4 id="réponse-de-base--echec">Réponse de base – Echec</h4>

<p>Lien vers la spécification FHIR :
<a href="https://www.hl7.org/fhir/operationoutcome.html">https://www.hl7.org/fhir/operationoutcome.html</a></p>

<p>Si la recherche échoue, le serveur doit répondre :</p>

<ul>
  <li>
    <p>Un header avec un un code erreur HTTP 4XX ou 5XX</p>
  </li>
  <li>
    <p>Un body contenant une ressource OperationOutcome qui donne les
détails sur la raison de l'échec</p>
  </li>
</ul>

<p>Remarque : l'échec d'une recherche est la non-possibilité d'exécuter la
requête, ce qui est différent d'aucune correspondance à la recherche.
Plus de précision sur la spécification FHIR :
<a href="https://www.hl7.org/fhir/http.html">https://www.hl7.org/fhir/http.html</a></p>

<h3 id="critères-de-recherche">Critères de recherche</h3>

<table>
<tbody>
<tr>
  <td width="5%"><p><strong>ID</strong></p></td>
  <td width="35%"><p><strong>Description</strong></p></td>
  <td width="15%"><p><strong>Paramètre</strong></p></td>
  <td width="15%"><p><strong>Type</strong></p></td>
  <td width="15%"><p><strong>Obligatoire</strong></p></td>
  <td><p><strong>Cardinalité</strong></p></td>
</tr>
<tr>
  <td><p>1</p></td>
  <td><p>Date de début de la recherche de créneaux</p></td>
  <td><p>start<br />avec le préfixe ge</p></td>
  <td><p>date</p></td>
  <td><p>Oui</p></td>
  <td><p>1..1</p></td>
</tr>
<tr>
  <td><p>2</p></td>
  <td><p>Date de fin de la recherche de créneaux</p></td>
  <td><p>start<br />avec le préfixe le</p></td>
  <td><p>date</p></td>
  <td><p>Oui</p></td>
  <td><p>1..1</p></td>
</tr>
<tr>
  <td><p>3</p></td>
  <td><p>Liste des identifiants nationaux de structure des associations SOS Médecins(SIRET avec préfixe correspondant)</p></td>
  <td><p>actor:Location<br />.organization.identifier</p></td>
  <td><p>token</p></td>
  <td><p>Oui</p></td>
  <td><p>1..25</p></td>
</tr>
<tr>
  <td><p>4</p></td>
  <td><p>Statut des créneaux</p></td>
  <td><p>status</p></td>
  <td><p>token<br />valeur: free</p></td>
  <td><p>Oui</p></td>
  <td><p>1..1</p></td>
</tr>
</tbody>
</table>

<p>Par ailleurs, en complément des ressources Slot, afin de récupérer l'ensemble des informations qui leur sont rattachées et qui seront potentiellement exploitées par le SAS, deux paramètres supplémentaires sont exploités :</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">_revinclude=Slot:schedule</code> indique qu’il est nécessaire de transmettre les ressources Slot associées au Schedule</li>
  <li><code class="language-plaintext highlighter-rouge">_include=Schedule:actor:Location</code> indique qu’il est nécessaire de transmettre la ressource Location associée au Schedule. La présence de cette ressource est nécessaire pour permettre de faire le lien entre l’agenda (Schedule) et l’association SOS Médecins (Organization) associée</li>
  <li><code class="language-plaintext highlighter-rouge">_include:iterate=Location:Organization</code> indique qu’il est nécessaire de transmettre la ressource Organization référencée dans Location.managingOrganization</li>
  <li><code class="language-plaintext highlighter-rouge">_has:Slot:schedule:[paramètre]</code> permet l’utilisation des éléments de la ressource Slot comme critères de recherche (start, status)</li>
</ul>

<h3 id="exemple-de-requête">Exemple de requête</h3>

<p>La requête ci-dessous correspond à une recherche de créneaux disponibles entre le 18 août 2023 à 10h et le 20 août 2023 à 9h pour les associations SOS Médecins correspondants aux SIRET suivants :334173748400020 et 340426662900033</p>

<p><strong>Requête :</strong></p>

<p><code>get[BASE]/Schedule?_revinclude=Slot:schedule&amp;_include=Schedule:actor:Location&amp;_include:iterate=Location:organization&amp;_has:Slot:schedule:start=ge2023-08-18T10:00:00+02:00<br />&amp;_has:Slot:schedule:start=le2023-08-20T09:00:00+02:00&amp;_has:Slot:schedule:status=free&amp;actor:Location.organization.identifier=urn:oid:1.2.250.1.71.4.2.27C334173748400020<br />,urn:oid:1.2.250.1.71.4.2.2%7C340426662900033</code></p>

<p><strong>Réponse simplifiée :</strong></p>

<details>
  <summary>Déplier pour accéder au détail de l'exemple de réponse simplifiée</summary>
  <pre>
HTTP 200 OK
  resourceType: Bundle
  type: searchset
  total: 4
  Slot1 (match)
  Schedule1
  Location1
  Organization1
  Slot2 (match)
  Schedule2
  Location2
  Organization2
  Slot3 (match)
  Schedule3
  Location3
  Organization3
  Slot4 (match)
  </pre>
</details>
<p><br /></p>

<p><strong>Corps de la réponse complète :</strong></p>

<p>La réponse ci-dessous correspond à :</p>
<ul>
  <li>2 créneaux disponibles via l’association SOS Médecins de Rennes (SIRET : 334173748400020) :
    <ul>
      <li>1 créneau au PFG : Centre de consultation Rennes Nord :
        <ul>
          <li>Adresse : 320 avenue Général George Patton (35700)</li>
          <li>ID du PFG : 1111111111</li>
          <li>Statut du créneau : disponible</li>
          <li>Date et horaires : 18 août 2023 de 9h à 9h30</li>
          <li>URL du créneau : http://www.editeur.com/agenda-pfg/creneau1</li>
          <li>Téléphone du PFG : 0193246789</li>
          <li>Jours et horaires d’ouverture du PFG : du mardi au dimanche de 8h00 à 19h00</li>
          <li>Avec prise de RDV</li>
          <li>Type de créneau : visible du grand public et réservé SAS</li>
          <li>Type de consultation : au cabinet ou en téléconsultation</li>
        </ul>
      </li>
      <li>1 créneau au PFG : Centre de consultation Rennes Cleunay :
        <ul>
          <li>Adresse : 320 avenue Général George Patton (35700)</li>
          <li>Adresse : 106 rue Eugène Pottier (35000)</li>
          <li>ID du PFG : 2222222222</li>
          <li>Statut du créneau : free</li>
          <li>Date et horaires : 19 août 2023 de 11h à 11h30</li>
          <li>URL du créneau : http://www.editeur.com/agenda-pfg/creneau2</li>
          <li>Téléphone du PFG : 0145249912</li>
          <li>Jours et horaires d’ouverture du PFG : du lundi au jeudi de 9h00 à 21h00</li>
          <li>Avec prise de RDV</li>
          <li>Type de créneau : visible du grand public</li>
          <li>Type de consultation : au cabinet</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>2 créneaux disponibles via l’association SOS Médecins Lorient et agglomération (SIRET : 392080466300010) :
    <ul>
      <li>Les 2 créneaux sont rattachés au PFG : Centre de consultation Lorient :
        <ul>
          <li>Adresse : 12 impasse Royer Dubail (56100)</li>
          <li>ID du PFG : 3333333333</li>
          <li>Téléphone du PFG : 0139555992</li>
          <li>Jours et horaires d’ouverture du PFG : mardi, jeudi et samedi de 11h00 à 18h00</li>
          <li>Caractéristiques du créneau 1 :
            <ul>
              <li>Date et horaires : 18 août 2023 de 14h20 à 14h40</li>
              <li>URL du créneau : http://www.editeur.com/agenda-pfg/creneau3</li>
              <li>Avec prise de RDV</li>
              <li>Statut du créneau : disponible</li>
              <li>Type de créneau : visible du grand public</li>
              <li>Type de consultation : en téléconsultation</li>
            </ul>
          </li>
          <li>Caractéristiques du créneau 1 :</li>
          <li>Date et horaires : 18 août 2023 de 14h40 à 15h00</li>
          <li>URL du créneau : http://www.editeur.com/agenda-pfg/creneau4</li>
          <li>Avec prise de RDV</li>
          <li>Statut du créneau : disponible</li>
          <li>Type de créneau : visible du grand public</li>
          <li>Type de consultation : au cabinet</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<p>Pour consulter l'exemple en plein écran, cliquer <a href="./Bundle-ExampleBundleAgregateurSOS.html">ici</a>.</p>

<iframe src="./Bundle-ExampleBundleAgregateurSOS.json" width="100%" height="300" style="border: 1px solid #cccccc; border-radius: 4px; background: #f5f2f0;" scrolling="yes"></iframe>
<p><br /></p>

<h3 id="nomenclatures">Nomenclatures</h3>

<p>Cette section détaille les nomenclatures à utiliser afin de renseigner les différents éléments codifiés de la réponse.</p>
<ul>
  <li><strong>ID : 3 – Statut du créneau :</strong>
    <ul>
      <li>L'utilisation de la nomenclature standard slotstatus (<a href="http://hl7.org/fhir/R4/valueset-slotstatus.html">http://hl7.org/fhir/R4/valueset-slotstatus.html</a>) est attendue. Cependant, la plateforme numérique SAS ne récupérant que des créneaux disponibles, ce champ aura systématiquement la valeur <code class="language-plaintext highlighter-rouge">free</code>.</li>
    </ul>
  </li>
  <li><strong>ID : 4 – Type de créneau :</strong>
    <ul>
      <li>Afin de répondre aux besoins de la plateforme numérique SAS, une nomenclature dédiée a été mise en oeuvre (<a href="https://mos.esante.gouv.fr/NOS/TRE_R314-TypeCreneau/FHIR/TRE-R314-TypeCreneau">https://mos.esante.gouv.fr/NOS/TRE_R314-TypeCreneau/FHIR/TRE-R314-TypeCreneau</a>). 3 types de créneaux sont présentés ci-dessous. A noter qu'un créneau peut porter une combinaison de ces valeurs :
        <ul>
          <li>PUBLIC – Créneau de soins défini par un professionnel de santé ou son délégataire dans son logiciel de prise de RDV accessible par le grand public</li>
          <li>PRO – Créneau de soins défini par un professionnel de santé ou son délégataire dans son logiciel de prise de RDV accessible à l'ensemble des PS</li>
          <li>SNP – Créneau de soins défini par un professionnel de santé ou son délégataire dans son logiciel de prise de RDV accessible par les Régulateurs et OSNP</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>ID : 5 – Type de consultation :</strong>
    <ul>
      <li>L'utilisation de la nomenclature standard ActEncounterCode (<a href="https://www.hl7.org/fhir/v3/ActEncounterCode/vs.html">https://www.hl7.org/fhir/v3/ActEncounterCode/vs.html</a>) est attendue. Cette nomenclature contient différentes notions, cependant, la plateforme numérique SAS gère les 3 types de créneaux ci-dessous. A noter qu'un créneau peut porter une combinaison de ces valeurs :
        <ul>
          <li>AMB – Consultation au cabinet</li>
          <li>HH – Consultation à domicile</li>
          <li>VR – Téléconsultation</li>
        </ul>
      </li>
      <li><strong>ID : 6 – Créneau avec ou sans RDV :</strong></li>
      <li>L'utilisation de la nomenclature standard AppointmentReasonCodes (<a href="https://www.hl7.org/fhir/v2/0276/index.html">https://www.hl7.org/fhir/v2/0276/index.html</a>) est attendue. Cette nomenclature contient différentes notions, cependant, la plateforme numérique SAS gère les 2 valeurs ci-dessous :
        <ul>
          <li>ROUTINE – Créneau avec prise de RDV possible.</li>
          <li>WALKIN – Créneau sans prise de RDV possible</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>ID : 7 – URL de redirection pour la prise de RDV :</strong>
    <ul>
      <li>Il est attendu l'URL de redirection vers l'agenda du PS concerné. Si l'utilisateur vient du SAS et n'est pas authentifié, il est demandé de le rediriger vers la page d'authentification de la solution éditeur avant d'accéder à l'agenda du PS. Afin de faciliter l'implémentation de la règle métier, la PTF numérique SAS ajoute un paramètre <code class="language-plaintext highlighter-rouge">origin</code> à l'URL transmise par l'éditeur au moment de la redirection pour identifier la provenance.</li>
    </ul>
  </li>
  <li><strong>ID : 8 – ID de l’association SOS Médecins (SIRET)  :</strong>
    <ul>
      <li>Identifiant unique propre à chaque association SOS Médecins. Les champs attendus doivent être valorisés comme suit :
        <ul>
          <li>identifier.value (valeur de l'identifiant) : SIRET avec préfixe <code class="language-plaintext highlighter-rouge">3</code></li>
          <li>identifier.system (autorité d’affectation) : urn:oid:1.2.250.1.71.4.2.2</li>
          <li>identifier.type (type d’identifiant) : le champ type.coding.code est valorisé à <code class="language-plaintext highlighter-rouge">IDNST</code> et type.coding.system à <code class="language-plaintext highlighter-rouge">http://interopsante.org/fhir/CodeSystem/fr-location-identifier-type</code></li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>ID : 10 – ID du point fixe de garde :</strong>
    <ul>
      <li>Identifiant unique permettant d’identifier individuellement chaque point fixe de garde. Deux combinaisons sont possibles selon que le PFG ait un identifiant national de structure (IDNST) connu ou non :
        <ul>
          <li>Lorsque le <strong>PFG a un identifiant national de structure</strong> connu, les différents champs sont valorisés comme suit :</li>
          <li>identifier.value (valeur de l’identifiant) : valeur de l’IDNST avec préfixe</li>
          <li>identifier.system (autorité d’affectation) : urn:oid:1.2.250.1.71.4.2.2</li>
          <li>identifier.type (type d’identifiant) : le champ type.coding.code est valorisé à <code class="language-plaintext highlighter-rouge">IDNST</code> et type.coding.system à <code class="language-plaintext highlighter-rouge">http://interopsante.org/fhir/CodeSystem/fr-location-identifier-type</code></li>
          <li>Lorsque le <strong>l’identifiant national de structure du PFG n’est pas connu</strong>, les différents champs sont valorisés comme suit :
            <ul>
              <li>identifier.value (valeur de l’identifiant) : Identifiant technique défini par la solution logicielle éditeur avec un format de type UUID par exemple</li>
              <li>identifier.system (autorité d’affectation) : : OID propre de la solution logicielle éditeur ou valorisation du champ avec une URL de la solution logicielle éditeur par exemple</li>
              <li>identifier.type (type d’identifiant) : le champ type.coding.code est valorisé à <code class="language-plaintext highlighter-rouge">INTRN</code> et type.coding.system à <code class="language-plaintext highlighter-rouge">http://interopsante.org/fhir/CodeSystem/fr-location-identifier-type</code></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li><strong>ID : 16 – Horaires d’ouverture – Jours de la semaine :</strong>
    <ul>
      <li>L’utilisation de la nomenclature standard DaysOfWeek (https://hl7.org/fhir/codesystem-days-of-week.html) est attendue. Cette nomenclature contient différentes notions qui sont toutes supportées par la plateforme numérique SAS :
        <ul>
          <li>MON – Lundi</li>
          <li>TUE – Mardi</li>
          <li>WED – Mercredi</li>
          <li>THU – Jeudi</li>
          <li>FRI – Vendredi</li>
          <li>SAT – Samedi</li>
          <li>SUN - Dimanche</li>
        </ul>
      </li>
    </ul>
  </li>
</ul>

<h3 id="validateur-ressources">Validateur ressources</h3>
<p>Le validateur mis à disposition des développeurs dans le cadre du projet SAS offre la possibilité tester le format des bundles de réponse générés. Il permet de vérifier que les réponses sont correctement formatées, que l'ensemble des informations obligatoires sont bien présentes et que les données codifiées exploitent les bonnes nomenclatures.
Pour que le validateur puisse effectuer correctement les contrôles au niveau de la structure, il est nécessaire de renseigner pour chacun des "resourceType" correspondant, le meta.profile "URL" ci-dessous :</p>
<ul>
  <li>https://interop.esante.gouv.fr/ig/fhir/sas/StructureDefinition/sas-sos-bundle-aggregator</li>
  <li>https://interop.esante.gouv.fr/ig/fhir/sas/StructureDefinition/sas-sos-slot-aggregator</li>
  <li>https://interop.esante.gouv.fr/ig/fhir/sas/StructureDefinition/sas-sos-schedule-aggregator</li>
  <li>https://interop.esante.gouv.fr/ig/fhir/sas/StructureDefinition/sas-sos-location-aggregator</li>
  <li>https://interop.esante.gouv.fr/ig/fhir/sas/StructureDefinition/sas-sos-organization-aggregator</li>
</ul>

<p>Ci-dessous un exemple :</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"resourceType": "Bundle",
"id": "8cbb33dc-779e-45e9-a5f6-ea66101288c5",
"meta": {
  "profile": [
    "https://interop.esante.gouv.fr/ig/fhir/sas/StructureDefinition/sas-sos-bundle-aggregator"
  ]
},
</code></pre></div></div>

<p>Le validateur est disponible sur l'espace de test de l'ANS : <a href="https://interop.esante.gouv.fr/evs/fhir/validator.seam?standard=37">https://interop.esante.gouv.fr/evs/fhir/validator.seam?standard=37</a>. Pour faciliter les tests et conserver l'historique, nous vous recommandons de créer votre compte sur la plateforme.
Afin de tester un fichier, il suffit de sélectionner le format <code class="language-plaintext highlighter-rouge">JSON</code>, d'ajouter le fichier via le bouton <code class="language-plaintext highlighter-rouge">Add…</code>, de sélectionner le modèle <code class="language-plaintext highlighter-rouge">BundleAgregateurSOS</code> puis de cliquer sur <code class="language-plaintext highlighter-rouge">valider</code> :</p>

<table align="center">
    <tr>
        <td align="center">
            <div class="figure">
                <img src="validateur_creneaux-SOS_1.png" alt="Accès au validateur agrégateur de créneaux" title="Accès au validateur agrégateur de créneaux" />
            </div>
        </td>    
    </tr>
    <tr>
        <td align="center">
            <b>Figure 1 - Accès au validateur agrégateur de créneaux</b>
        </td>
    </tr>
</table>

<p>Vous obtiendrez alors un rapport de test mettant en valeur les erreurs bloquantes et les différents warnings :</p>

<table align="center">
    <tr>
        <td align="center">
            <div class="figure">
                <img src="validateur_creneaux-PS_2.png" alt="Rapport validateur agrégateur de créneaux" title="Rapport validateur agrégateur de créneaux" />
            </div>
        </td>    
    </tr>
    <tr>
        <td align="center">
            <b>Figure 2 - Rapport validateur agrégateur de créneaux</b>
        </td>
    </tr>
</table>
<p><br /><br /></p>



</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

<script type="text/javascript" src="assets/js/window-hash.js"> </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div style="background-color:var(--footer-nav-bg-color)">
        <table style="width:100%">
          <tbody>
            <tr>
              <td style="text-align:left">&#xA0;

                <a href="specifications_techniques-cpts-gestion_rdv.html">&lt;prev</a>

              </td>
              <td style="text-align:center">
                <a href="#top">top</a>
              </td>
              <td style="text-align:right">&#xA0;

                <a href="specifications_techniques-sos-gestion_regulateur.html">next&gt;</a>

              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div class="inner-wrapper">
        <p>
          IG &#169; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://esante.gouv.fr">ANS</a>.  Package ans.fhir.fr.sas#1.1.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Wed, Jun 25, 2025 08:21+0000">2025-06-25</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)"></span>
            Liens : <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table des matières</a> |
<a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA</a> |
<a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://interop.esante.gouv.fr/ig/fhir/sas/history.html">Historique des versions</a>
<a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://interop.esante.gouv.fr/ig/documentation">Documentation</a>
 | <a style="color: var(--footer-hyperlink-text-color)" target="_blank" href="https://github.com/ansforge/IG-fhir-service-acces-aux-soins/issues/new">New Issue</a>

          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>

  <!-- Ajout ANS -->
  <script src="assets/js/app.js" type="text/javascript"> </script>
  <script src="assets/js/vendor.js" type="text/javascript"> </script>
  <!-- Fin ajout ANS -->

  <script type="text/javascript" src="assets/js/anchor-hover.js"> </script>
  

  <!-- Analytics Below
  ================================================== -->


  <!-- AJOUT ANS -->

<footer class="footer footer-principal" role="contentinfo">
  <div class="footer__region1">
    <div class="container">
      <div class="row">

        <div class="col-md-6 col-lg-4 text-center text-md-left">
          <div class="logos">        
            <div class="logo logo--0">
              <a href="https://solidarites-sante.gouv.fr" title="Ministère des Solidarités et de la Santé (nouvelle fenêtre)" target="_blank" rel="nofollow">
                
                <img src="assets/images/logo-ministere.svg" alt="Ministère des Solidarités et de la Santé" width="133" height="77" loading="lazy" />
                
              </a>
            </div>
        
            <div class="logo logo--1">
              <a href="https://esante.gouv.fr/" title="Agence du numérique en santé (nouvelle fenêtre)" target="_blank" rel="nofollow">
                
                <img src="assets/images/logo-ANS-footer.svg" alt="Agence du numérique en santé" width="106" height="74" loading="lazy" />
              </a>
            </div>
          </div>
        </div>
        
        <div class="col-md-6 col-lg-4 text-center text-md-left">
          <p class="footer__title">Agence du Numérique en Santé</p>
          <p>2-10 Rue d'Oradour-sur-Glane 75015 Paris</p>

          <!-- <div class="m-social">
            <ul class="m-social__list">        
              <li class="m-social__item">
                <a class="m-social__link" href="https://www.linkedin.com/company/agence-du-numerique-en-sante/" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-linkedin" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#linkedin"></use></svg>
                  </div>
                  <span class="sr-only">linkedin</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://twitter.com/esante_gouv_fr" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-twitter" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#twitter"></use></svg>
                  </div>
                  <span class="sr-only">twitter</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://www.youtube.com/channel/UCd1zuSaU5cE1lRCpwv_HSMA" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-youtube" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#youtube"></use></svg>
                  </div>
                  <span class="sr-only">youtube</span>
                </a>
              </li>
              <li class="m-social__item">
                <a class="m-social__link" href="https://esante.gouv.fr/rss.xml" target="_blank" rel="nofollow">
                  <div class="m-social__icon">
                    <svg class="svg-icon svg-rss" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#rss"></use></svg>
                  </div>
                  <span class="sr-only">rss</span>
                </a>
              </li>
            </ul>
          </div> -->
        </div>
        
        <div class="col-6 col-lg-4">
          <ul class="footer-list">
            <li class="footer-list__item footer-list__item--hasIcon">
              <a href="mailto:ci-sis@esante.gouv.fr" class="mailto-link">
                <svg class="svg-icon svg-angle-right" aria-hidden="true" focusable="false"><use href="assets/images/icon-sprite.svg#angle-right"></use></svg>Contact</a>
              </li>
              <!-- <li class="footer-list__item">
                <a href="https://interop-pprod.esante.gouv.fr/ci-sis-specifications/wp-content/uploads/CGU_espace_de_tests_v1.1.pdf" class="file-link">Mentions légales</a>
              </li>
               -->
            </ul>
          </div>

        </div>
      </div>
    </div>
    
    <!-- <div class="footer__region2">
      <div class="container">
        <div class="footer-contentinfo">
          <ul class="footer-list footer-list--inline">

          </ul>
        </div>
      </div>
    </div> -->
  </footer>
  </body>
</html>

